<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button  [routerLink]="['/home/main-page']" >
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{ 'app_menu.group_details' | translate }}</ion-title>
    <span class="border-bottom-part-one"></span>
    <span class="border-bottom-part-two"></span>
    <span class="border-bottom-part-three"></span>
    <span class="border-bottom-part-four"></span>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="group-details-container">
    <div class="categories-section">
      <ion-grid class="ion-padding">
        <ion-row>
           <ion-col size="12">
               <ion-segment [(ngModel)]="groupValue" scrollable >
    
                <ion-segment-button value="all" (click)="selectAllButtonClicked()">
                  <ion-label>
                    {{ 'app.select_all' | translate }}
                  </ion-label>
                 </ion-segment-button>
    
                @for(category of categories ; track category.name){
                   <ion-segment-button  (click)="segmentButtonClicked(category)">
                    <ion-label>
                      {{category.name}}
                    </ion-label>
                   </ion-segment-button>
                }
               </ion-segment>
           </ion-col> 
        
        </ion-row> 
      </ion-grid>
    </div>

    <div class="products-section">
      <ion-content [scrollY]="false">
        <cdk-virtual-scroll-viewport itemSize="150" class="ion-content-scroll-host">

          <ion-grid>
            <ion-row >
              @for(product of products ; track product.name){
              <ion-col size="6"  class="group-margin-padding">
                <!-- <div class="product-card">
                  <div class="product-image-card">
                    <img class="img-product-card" src="{{ product.product_image }}" >
                  </div>
                  <div class="product-title-card">
                    <h1> {{ product.name }}</h1>
                  </div>
                </div> -->
                <ion-card  class="card-group ion-no-margin ion-no-padding">
                  
                  <div class="image-group">
                      
                        <img src="{{ product.product_image }}" >
                      
                  </div>
    
                <div class="name-group">
                    <h1>{{ product.name }}</h1>
                </div> 

                </ion-card>
              </ion-col> 
            }
            </ion-row> 
          </ion-grid> 

          <ion-infinite-scroll  (ionInfinite)="onIonInfinite($event)" threshold="100px">
            <ion-infinite-scroll-content loadingText="{{'app.show_more' | translate}}" loadingSpinner="lines-sharp"></ion-infinite-scroll-content>
          </ion-infinite-scroll>
        </cdk-virtual-scroll-viewport>
  </ion-content>

    </div>
  </div> 
  </ion-content>

  

